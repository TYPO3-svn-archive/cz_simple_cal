{namespace cal=Tx_CzSimpleCal_ViewHelpers}
<cal:useMicroformat format="hcalendar" />
<h2>Next View</h2>
<div class="vcalendar vcalendar-next">
<f:if condition="{events}">
	<f:then>
		<p>These are the next events that take place.</p>
		<cal:variable.init>
			<f:for each="{events}" as="event">
				<cal:calendar.onNewDay event="{event}">
					<h4 class="underline"><cal:format.dateTime format="%a, %e. %B %Y" timestamp="{event.start}"/></h4>
				</cal:calendar.onNewDay>
				
				<f:render partial="EventIndex/event-for-list.html" arguments="{event: event, settings:settings}"></f:render>
			</f:for>
		
		</cal:variable.init>
	</f:then>
	<f:else>
		<p>No events have been found.</p>
	</f:else>
</f:if>
</div>